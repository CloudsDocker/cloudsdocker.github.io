<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>A Facial Recognition utility in a dozen of LOC | Clouds&amp;Docker</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.73.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
    <meta property="og:title" content="A Facial Recognition utility in a dozen of LOC" />
<meta property="og:description" content="A Facial Recognition utility in a dozen of python LOC (Lines Of Code) CV (Computer Vision) I have been soak myself in open sourced libraries, such as OpenCV. I gradually came to discern concepts such as Machine Learning , Deep Learning are not academic standing water. As a matter of fact, those elusive topics and certain pragmatic use cases could coalesce in a amount of interesting products. For instance, in past couple of months, there were a hype of guess-ages-by-photo, below screenshot depicts such." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://todzhang.com/posts/2017-04-28-facial-recognition_en/" />
<meta property="article:published_time" content="2020-06-28T06:40:12+00:00" />
<meta property="article:modified_time" content="2020-06-28T06:40:12+00:00" />
<meta itemprop="name" content="A Facial Recognition utility in a dozen of LOC">
<meta itemprop="description" content="A Facial Recognition utility in a dozen of python LOC (Lines Of Code) CV (Computer Vision) I have been soak myself in open sourced libraries, such as OpenCV. I gradually came to discern concepts such as Machine Learning , Deep Learning are not academic standing water. As a matter of fact, those elusive topics and certain pragmatic use cases could coalesce in a amount of interesting products. For instance, in past couple of months, there were a hype of guess-ages-by-photo, below screenshot depicts such.">
<meta itemprop="datePublished" content="2020-06-28T06:40:12&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-28T06:40:12&#43;00:00" />
<meta itemprop="wordCount" content="1549">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="A Facial Recognition utility in a dozen of LOC"/>
<meta name="twitter:description" content="A Facial Recognition utility in a dozen of python LOC (Lines Of Code) CV (Computer Vision) I have been soak myself in open sourced libraries, such as OpenCV. I gradually came to discern concepts such as Machine Learning , Deep Learning are not academic standing water. As a matter of fact, those elusive topics and certain pragmatic use cases could coalesce in a amount of interesting products. For instance, in past couple of months, there were a hype of guess-ages-by-photo, below screenshot depicts such."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Clouds&amp;Docker
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
        </ul>
      
      








<a href="https://github.com/CloudsDocker" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        ARTICLES
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=http://todzhang.com/posts/2017-04-28-facial-recognition_en/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=http://todzhang.com/posts/2017-04-28-facial-recognition_en/&amp;text=A%20Facial%20Recognition%20utility%20in%20a%20dozen%20of%20LOC" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://todzhang.com/posts/2017-04-28-facial-recognition_en/&amp;title=A%20Facial%20Recognition%20utility%20in%20a%20dozen%20of%20LOC" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">A Facial Recognition utility in a dozen of LOC</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-06-28T06:40:12Z">June 28, 2020</time>

      
      
        <span class="f6 mv4 dib tracked"> - 8 minutes read</span>
        <span class="f6 mv4 dib tracked"> - 1549 words</span>
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h1 id="a-facial-recognition-utility-in-a-dozen-of-python-loc-lines-of-code">A Facial Recognition utility in a dozen of python LOC (Lines Of Code)</h1>
<h2 id="cv-computer-vision">CV (Computer Vision)</h2>
<p>I have been soak myself in open sourced libraries, such as OpenCV. I gradually came to discern concepts such as <em>Machine Learning</em> , <em>Deep Learning</em> are not academic standing water. As a matter of fact, those elusive topics and certain pragmatic use cases could coalesce in a amount of interesting products. For instance, in past couple of months, there were a hype of <em>guess-ages-by-photo</em>, below screenshot depicts such.</p>
<p><img src="http://cloudsdocker.github.io/images/facial_howold.jpg" alt=""></p>
<p>What a seductive one! Initially been attracted by such funky features, after second thoughts, I found at the heart of it is two cohesive parts, the first one is how to locate <em>human faces</em> from background and whole picture, consequently to have a ballpark <em>age</em> guess for the recognized the faces. You may guess how difficult to codify a program to implement the 1st feature. Actually no need chunks of code, at here purely a dozen of lines of code are necessitated (actually only 10 lines of code, excluding space line and comments). I&rsquo;d like to piggyback on such tiny utility to elaborate advanced topics of Computer Visions.</p>
<h3 id="faces-recognition">Faces recognition</h3>
<p>Actually <em>face recognition</em> is not new to us, this feature prevailing in so-called <em>auto focus</em> in DC (Digital Camera) and many main stream smart phone built-in cameras. Just like below photo. You can get a sense of how <em>commonplace</em> of face recognition , which is becoming a widely used technology around us.</p>
<p><img src="http://cloudsdocker.github.io/images/iPhone-camera-face-recognition.jpg" alt=""></p>
<p>Theoretically speaking, face recognition is also called <em>face detection</em>, it&rsquo;s a type of technology/program to electronically identify human frontal faces in digital images, such as photos, camera or surveillance. Further more, face detection is kind of objects detection in computer vision area. Which will locate object (e.g. human face) and get the size.</p>
<h2 id="my-10-loc-program">My &lsquo;10 LOC program&rsquo;</h2>
<p>First of all, let&rsquo;s have some visual and concrete feeling of this program, below screenshot is the source code.</p>
<p><img src="http://cloudsdocker.github.io/images/facial_code_preview.png" alt=""></p>
<p>The whole program source code can be found at  <a href="https://github.com/CloudsDocker/pyFacialRecognition">this github repository</a> <a href="https://github.com/CloudsDocker/pyFacialRecognition">https://github.com/CloudsDocker/pyFacialRecognition</a> . Please feel free to <em>fork</em> , check it out and have a try. I&rsquo;ll walk through this program one line by one line at this blog.</p>
<p>&ldquo;You serious? This is all the problem, just aforementioned 10 lines?&rdquo; Let&rsquo;s first take a look at the actual run output.</p>
<h3 id="here-is-the-origional-image">Here is the origional image</h3>
<p><img src="http://cloudsdocker.github.io/images/facial_oriImage.jpg" alt=""></p>
<h3 id="below-is-the-result-of-execution-of-this-tiny-utility">Below is the result of execution of this tiny utility</h3>
<p>Please be advised the red rectangle around faces.
<img src="http://cloudsdocker.github.io/images/facial_postProcessImage_en.png" alt=""></p>
<h2 id="souce-code">Souce Code</h2>
<h3 id="prerequite">Prerequite</h3>
<p>First of first, as you know, this program is composed by <strong>python</strong>,therefore, make sure you work station or laptop equiped with python, vesrion is irrelavant for this program.</p>
<p>In addition, this utility is built upon <a href="http://opencv.org/downloads.html">OpenCV</a> (<a href="http://opencv.org/downloads.html),">http://opencv.org/downloads.html),</a> therefore please install this component as well. Just as its name suggested, it is an open source framework focus on computer vision related deep learning, surfaced decades ago. This is one Intel lab built by Rusian, which is a very active community.</p>
<p>Particulary, if you are Mac users, it&rsquo;s recommended to use <em>brew</em> to setup OpenCV. Below is sample commands(The 1st line of following command may raise some errors, in that case please contact me via the link at the rear of this blog):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">brew tap homebrew/science
brew install opencv
</code></pre></div><p>Upon completion of preceding scripts, you can execute following scripts to verify whether it&rsquo;s installed success or not, e.g. it means all fine if no exception/errors raised</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">&gt;&gt;&gt; import cv2
</code></pre></div><h3 id="souce-code-dissection">Souce Code Dissection</h3>
<p>Let&rsquo;s dissect file <strong>recognizeFace_loose_en.py</strong> as one example</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> cv2<span style="color:#f92672">,</span>sys
</code></pre></div><ul>
<li>To import library of OpenCV and python built-in system library, which is used to parse input arguments.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">inputImageFile<span style="color:#f92672">=</span>sys<span style="color:#f92672">.</span>argv[<span style="color:#ae81ff">1</span>]
</code></pre></div><ul>
<li>To read the <strong>1st</strong> argument, which to be the file name of the image to be parsed, e.g. <em>test.jpg</em></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">faceClassifier<span style="color:#f92672">=</span>cv2<span style="color:#f92672">.</span>CascadeClassifier(<span style="color:#e6db74">&#39;haarcascade_frontalface_default.xml&#39;</span>)
</code></pre></div><ul>
<li>To load HAAR Casscade Classifier, the human face recognition cascade categorizer which shipped with OpenCV. Which will do the <em>actual</em> computation, logic to recognize and size human faces from any given images.</li>
</ul>
<h3 id="expansion-of-computer-vision-knowledge">Expansion of computer vision knowledge</h3>
<p>We stop here not reading further code, avoiding perplex you, I&rsquo;ll walk through certain CV topics pertaining to this blog. As for more deep concepts, please feel free to contact me or goole by yourself.</p>
<h4 id="classifier">Classifier</h4>
<p>In arena of computer vision and machine learning, a variaty of classifiers been and being built, to assemle special <em>domain</em> knowledge to recognize corresponding objects. For example, there are particular <strong>classifier</strong> to recognize cars, there are <em>plane</em> classifier, and classifiers to recognize smile, eyes, etc. For our case, we need a specific classifier help us to detect and locate human faces.</p>
<h4 id="conceps-of-objects-recognize">Conceps of objects recognize</h4>
<p>Generally speaking，, to recognize one object (such as human faces) means finding and identifying objects in an image or video sequence. However, it&rsquo;s neccessitate tons of sample/specimen to <strong>train</strong> machine to learn, for instance, it&rsquo;s likely thousands of hundreds of digital images/video will be prepared as learning material, while all of specimen should be categorized to two mutax type,  <em>positive</em> or <em>negative</em>. e.g. phots containss <em>human face</em> and ones <strong>without</strong> <em>human face</em>. When machine read one photo, it was told this is either a positive one or negative one, then machine could gradually analysys and induce some <strong>common facets</strong> and persist to files for future usages, e.g. when given a new photo, the machine can <strong>classify</strong> it whether it&rsquo;s a positive or negative. That&rsquo;s why it&rsquo;s called <strong><em>classifier</em></strong>.</p>
<h4 id="cascade">Cascade</h4>
<p>Your feeling is right, just as it&rsquo;s name suggrested, cascade implies propagating something. In this case, it&rsquo;s specifically means <strong>Cascade classifier</strong>. Intuitively the next question is <em>why</em> cascade is required? Let me try to articulate the underlying logic, as you know, at the heart of digital images, which is the raw material of computer vision, are pixel。For one CV process, it need to scan each pixel per pixel, while in contemporary world, size of image tend to incresing more than we expected, e.g. normall one photo taken by smart phone tend to contains millions of pixels. At the meanwhile, to fine tune and get a more accuate result of one object recognition, it tend to lots of <em>classifiers</em> to work from different point of views of the underlying photo. Therefore these two factors interwhirled together, the final number would be astronomical. Therefore, one innovative solution is <em>cascade</em>, in a nutshell, all classifiers will be splited to multiple layers, one photo will be examined by classifiers on 1st layer at the very begining, if failed, the whole CV can retain <strong><em>negative</em></strong> immediately, with fewest efforts and time cost, while majority of other classifiers won&rsquo;t be executed in actual. This should significantely accelerate the whole process of CV. This is similar to <strong><em>FF(Fail Fast)</em></strong> in other areas,severed for sake of running efficiency.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">objImage<span style="color:#f92672">=</span>cv2<span style="color:#f92672">.</span>imread(inputImageFile)
</code></pre></div><ul>
<li>To create one OpenCV image object by loading the input digital file via OpenCV</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">cvtImage<span style="color:#f92672">=</span>cv2<span style="color:#f92672">.</span>cvtColor(objImage,cv2<span style="color:#f92672">.</span>COLOR_BGR2GRAY)
</code></pre></div><ul>
<li>Firstly, convert the digital colorful image to grayscale one, which easy the task to scan and analyse the image. Actually this is quite common in image analys area. e.g. this could eliminate those <em>noisy</em> pixel from the picture.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">foundFaces<span style="color:#f92672">=</span>faceClassifier<span style="color:#f92672">.</span>detectMultiScale(cvtImage,scaleFactor<span style="color:#f92672">=</span><span style="color:#ae81ff">1.3</span>,minNeighbors<span style="color:#f92672">=</span><span style="color:#ae81ff">9</span>,minSize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">50</span>,<span style="color:#ae81ff">50</span>),flags <span style="color:#f92672">=</span> cv2<span style="color:#f92672">.</span>cv<span style="color:#f92672">.</span>CV_HAAR_SCALE_IMAGE)
</code></pre></div><ul>
<li>Call method <strong>detectMultiScale</strong> to recongnize object, i.e. human face in this case. The parameters overview as below:</li>
<li>scaleFactor: For a photo, particualy from selpie, some faces are shows bigger than rest of others, due to the distance between each faces and lens. Therefore this parameter is used to config the factor, please be advised this <em>double</em> should greater than 1.0</li>
<li>minNeighbors: Because it need to gradually scan the photo by a certain <em>window</em>, i.e. a rectangle. So this parameter is telling how many other object in the vacinity to be detected, before making final decision that it&rsquo;s positive or negative.</li>
<li>minSize：For aforementioend <em>window</em>, this parameter is setting the size of this rectangle.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34; Found {} human faces in this image&#34;</span><span style="color:#f92672">.</span>format(len(foundFaces)))
</code></pre></div><ul>
<li>To print how many faces detected, be reminded returned value is a list, each item is the actual position of every faces. Therefore, using  <em>len</em>  to print total number of ojects found.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">for</span> (x,y,w,h) <span style="color:#f92672">in</span> foundFaces:
    cv2<span style="color:#f92672">.</span>rectangle(objImage,(x,y),(x<span style="color:#f92672">+</span>w,y<span style="color:#f92672">+</span>h),(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">255</span>),<span style="color:#ae81ff">2</span>)
</code></pre></div><ul>
<li>Traverese all faces detected, please be noted returning object is consist of 4 parts, i.e. the horizontal and vertial position, width and height.</li>
<li>Consequently to draw a rectangle by an off-the-shelf method from <em>OpenCV</em>. Be advised <em>(0,0,255)</em> represents color of the rectangel. It use R/G/B mode, e.g. black is (0,0,0)，white is (255,255,255)，etc. Well versed web programmer should be familiar with it.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#39;Detected human faces highlighted. Press any key to exit. &#39;</span>, objImage)
cv2<span style="color:#f92672">.</span>waitKey(<span style="color:#ae81ff">0</span>)
</code></pre></div><ul>
<li>To display this image via <em>opencv</em> provided method imshow, together with the rectangles we draw previously</li>
<li>The last one is one user hint, remind you can quit the applicaiton by press any key on the image display window</li>
</ul>
<h1 id="in-summary">In summary</h1>
<p>We&rsquo;ve skimmed source codes and pertaining knowledge. This is just scratched the surface of this framework, hope this can open the door to more advanced topics and insights, such as hack of CAPTCHA, newly open sourced project form Yahoo, <a href="https://github.com/yahoo/open_nsfw">NSFW</a>, Not Suitable for Work (NSFW)，to detect images with pornagraphy, etc.</p>
<p>Finally，please be reminded all related source are open sourced at github repository <a href="https://github.com/CloudsDocker/pyFacialRecognition">https://github.com/CloudsDocker/pyFacialRecognition</a> ，please fork and sync to your local disk, check it out and paly it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git clone https://github.com/CloudsDocker/pyFacialRecognition.git
cd pyFacialRecognition
./run.sh
</code></pre></div><p>You can access <a href="http://cloudsdocker.github.io/2016/12/11/2016-11-22-Facial-Recognition_en/">my blog</a>. Any comments/suggestions, feel free to contact me.</p>
<h2 id="contact-me">Contact me：</h2>
<ul>
<li><a href="mailto:phray.zhang@gmail.com">phray.zhang@gmail.com</a> (email，whatsapp, linkedin)</li>
<li>helloworld_2000 (wechat)</li>
<li>weibo: cloudsdocker</li>
<li><a href="https://github.com/CloudsDocker/">github</a></li>
<li><a href="http://www.jianshu.com/users/a9e7b971aafc">jianshu</a></li>
<li>wechat：vibex</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://www.mathworks.com/discovery/object-recognition.html">Object recognition</a></li>
<li><a href="http://docs.opencv.org/trunk/index.html">OpenCV</a></li>
<li><a href="https://en.wikipedia.org/wiki/Haar-like_features">HAAR features</a></li>
<li><a href="http://docs.opencv.org/trunk/d7/d8b/tutorial_py_face_detection.html">Face Detection using Haar Cascades</a></li>
<li><a href="https://github.com/yahoo/open_nsfw">NSFW</a></li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://todzhang.com/" >
    &copy;  Clouds&Docker 2020 
  </a>
    <div>








<a href="https://github.com/CloudsDocker" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>







</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
